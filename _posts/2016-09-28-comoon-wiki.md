---
layout: post
title:  接口通用描述
date:   2016-09-28 01:08:00 +0800
categories: document
tag: 服务端开发文档
---

* content
{:toc}

## 1.	开发者规范
开发者进行开放平台开发时，除了要满足接口的规范限制和接口调用频率限制外，还需特别注意用户敏感信息的使用规范。
涉及用户数据时：
* 您收集用户的数据后，必须采取必要的保护措施，防止用户数据被盗、泄漏等。
* 如果我们认为您收集、使用用户数据的方式，可能损害用户体验，我们有权要求您删除相关数据并不得再以该方式收集、使用用户数据。
* 一旦您停止使用本服务，或 基于任何原因终止您使用本服务，您必须立即删除全部因使用本服务而获得的数据（包括各种备份）， 且不得再以任何方式进行使用。

## 2.	开放平台接口权限说明
不同类型的开放平台账号具有不同的接口权限，见下表

接口名称 | 未认证开放平台账号 |  认证开放平台账号
------------ | ------------- | -------------
获取accessToken | 有 | 有
获取用户基本信息 | 无 | 有
获取部门列表 | 无 | 有
获取部门员工列表 | 无 | 有
获取部门员工详情 | 无 | 有
发送聊天消息 | 无 | 有
其他接口完善中 | ... | ...

## 3.	开放平台接口调用频率说明
* 开放平台的调用接口并不是无限制的。为了防止公众号的程序错误而引发 服务器负载异常，默认情况下，每个开发者应用调用接口都不能超过一定限制，当超过一定限制时，调用对应接口会收到如下错误返回码


``` 

{"status":4006,"message":"接口调用频率超过限制"} 

```


* 认证账号的调用量清零。针对认证的开发者账号，每月提供10次清零操作机会，可以针对同一接口，也可以针对不同接口清零。新注册账号接口调用频率见下表

接口名称 | 每日限额
------------ | -------------
获取accessToken | 2000
获取用户基本信息 | 5000
获取部门列表 | 5000
获取部门员工列表 | 5000
获取部门员工详情 | 5000
发送聊天消息 | 5000
其他接口完善中 | ...



## 4.	开放平台接口返回说明
应用每次调用接口时，可能获得正确或错误的返回码，开发者可以根据返回码信息调试接口，排查错误。见下表

返回码 | 说明
------------ | -------------
0 | 调用成功
-1 | 开放平台系统错误
4000 | 用户登录token错误
4001 | 用户登录token和accessToken错误，重新获取
4002 | accessToken错误
4003 | AccessToken超时
4004 | AccessToken刷新过于频繁，注意每天的接口调用次数
4005 | accessToken错误，一般是系统原因，重新获取或者联系客服
4006 | 接口调用频率超过限制
4007 | 获取accessToken时appId或者appSecret错误
4008 | 缺少accessToken参数
4009 | 需要get请求
4010 | 需要post请求
4011 | 需要httpss请求
4012 | Post数据包为空
4013 | Api无权限
4014 | 调用来源ip不在ip白名单
4015 | 不合法的callback url
4016 | 企业未对该应用授权
4500 | 用户uid不存在或者错误
4501 | 缺少uid参数
